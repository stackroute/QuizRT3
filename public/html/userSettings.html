<!--
//Copyright {2016} {NIIT Limited, Wipro Limited}
//
//   Licensed under the Apache License, Version 2.0 (the "License");
//   you may not use this file except in compliance with the License.
//   You may obtain a copy of the License at
//
//       http://www.apache.org/licenses/LICENSE-2.0
//
//   Unless required by applicable law or agreed to in writing, software
//   distributed under the License is distributed on an "AS IS" BASIS,
//   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
//   See the License for the specific language governing permissions and
//   limitations under the License.
//
//   Name of Contributors  AS,AK,SM,PS,MM,CCKK
//
-->
<link href='https://fonts.googleapis.com/css?family=Bitter' rel='stylesheet' type='text/css'>
<link href='css/userSettings.css' rel='stylesheet'>
<div class="container" id="main">
	<div class="row" id="Quizzer">
		<div class="col-xs-offset-1 col-xs-9">
			QuizRT
		</div>
		<div class="col-xs-2">
			<a ng-click="logout()" class="glyphicon glyphicon-off">
			</a>
		</div>
	</div>

	<div id="settingsDiv">
		<h3>Settings</h3>
		<div id="addProfilePic" class="row">
			<div class="col-md-3 col-xs-4">
				<div id="profilePic">
					<img ng-show="tempLoggedInUser.imageLink" src="{{tempLoggedInUser.imageLink}}" alt="" />
					<span ng-hide="tempLoggedInUser.imageLink" ng-click="removeIcon()">add photo</span>
				</div>
				<input type="file" class="hide" id="inputFile">
				<span ng-show="tempLoggedInUser.imageLink" ng-click="removeIcon()">remove</span>
			</div>
			<div class="col-md-9 col-xs-8">
				<p>
					Add a profile picture
				</p>
			</div>
		</div>
		<h6 ng-click="slideToggle('#onlineImageLinkDiv')">
			<b>Or give an online image link</b><span class="glyphicon glyphicon-triangle-right" ng-hide="toggleVarOnlineImageLink"></span><span class="glyphicon glyphicon-triangle-bottom" ng-show="toggleVarOnlineImageLink"></span>
		</h6>
		<div id='onlineImageLinkDiv'>
			<input type="text" ng-model="onlineImageLink" placeholder="Online Link" class="form-control">
			<button type="button" ng-click="loadOnlineImage()" class="btn btn-primary" >Load</button>
		</div>
		<div id="userProfileForm">
			<div class="alert alert-danger fade in">
				<button role="close" class='close' ng-click="errorMessage=''" aria-label="close">&times;</button>
				{{errorMessage}}
			</div>
			<input type="text" ng-model="tempLoggedInUser.name" placeholder="Name" class="form-control">
			<input type="text" ng-model="tempLoggedInUser.country"  placeholder="Country" class="form-control">
			<input type="text" ng-model="tempLoggedInUser.age"  placeholder="Age" class="form-control">
			<input type="text" ng-model="tempLoggedInUser.emailID"  placeholder="Email ID" class="form-control">
			<button type="button" ng-click="updateUserProfile()" class="btn btn-primary" >Update</button>
		</div>

		<h5 ng-click="slideToggle('#changePasswordDiv')">
			<b>Change password</b><span class="glyphicon glyphicon-triangle-right" ng-hide="toggleVarPassword"></span><span class="glyphicon glyphicon-triangle-bottom" ng-show="toggleVarPassword"></span>
		</h5>
		<div id='changePasswordDiv'>
			<div class="alert alert-danger fade in">
				<button role="close" class='close' ng-click="passwordMessage=''" aria-label="close">&times;</button>
				{{passwordMessage}}
			</div>
			<input type="password" class="hide"><!-- To hide the saved user password. The browser puts the saved password in the 1st password field. -->
			<input type="password" ng-model="tempLoggedInUser.oldPassword" placeholder="Old Password" class="form-control" >
			<input type="password" ng-model="tempLoggedInUser.newPassword" placeholder="New Password" class="form-control">
			<input type="password" ng-model="tempLoggedInUser.confirmPassword" placeholder="Confirm Password" class="form-control">
			<button class="btn btn-primary pull-right" ng-click="changePassword(tempLoggedInUser)" >Change</button>
		</div>
	</div>
</div><!-- end #main -->
<footer>
	<div class="container">
		<div class="row">
			<div class="col-xs-3 nav">
				<div ng-click="redirectTo('userProfile')">
					<span class="glyph glyphicon glyphicon-user"></span>
					<p>Profile</p>
				</div>
			</div>
			<div class="col-xs-3 nav">
				<div ng-click="redirectTo('userTeams')">
      		<img class="img-responsive" src='images/team_64x64.png' alt='Teams Img'>
					<p>Teams</p>
				</div>
			</div>
			<div class="col-xs-3 nav">
				<div ng-click="redirectTo('userTournaments')">
					<span class="glyph glyphicon glyphicon-globe"></span>
					<p>Tournaments</p>
				</div>
			</div>
			<div class="col-xs-3 nav">
				<div ng-click="redirectTo('userSettings')">
					<span class="glyph glyphicon glyphicon-cog"></span>
					<p>Settings</p>
				</div>
			</div>
		</div>
	</div>
</footer>
